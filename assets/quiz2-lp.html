<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Reward Program</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #fe2c55;  /* TikTok red */
            --primary-dark: #e41d3d;
            --success: #00ba7c;
            --text: #000000;
            --text-secondary: #666666;
            --border: #e5e5e5;
            --timer-bg: #000000;
            --container-bg: #f8f8f8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #f8f8f8;
            color: var(--text);
            line-height: 1.6;
        }

        .timer-top {
            background: var(--timer-bg);
            color: white;
            text-align: center;
            padding: 10px;
            font-weight: 600;
            font-size: 14px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px 20px 0 20px;
        }

        header {
            background: white;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
            margin-bottom: 20px;
        }

        header img {
            max-height: 40px;
        }

        .main-content {
            background: white;
            border-radius: 12px;
            padding: 32px;
            margin: 10px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .offer-image {
            text-align: center;
            margin: 10px 0;
        }

        .offer-image img {
            max-width: 300px;
            width: 100%;
            height: auto;
            border-radius: 12px;
        }

        .progress-container {
            background: #f0f0f0;
            border-radius: 12px;
            height: 8px;
            margin: 30px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--primary);
            transition: width 0.5s ease;
            border-radius: 12px;
        }

        .steps-list {
            list-style-position: inside;
            margin: 20px 0;
            padding: 0;
        }

        .steps-list li {
            margin: 8px 0;
            padding: 12px 16px;
            background: var(--container-bg);
            border-radius: 12px;
            font-size: 14px;
            border: 1px solid var(--border);
        }

        .live-counter {
            background: #fff5f5;
            color: var(--primary);
            padding: 8px 16px;
            border-radius: 100px;
            font-size: 14px;
            font-weight: 600;
            text-align: center;
            margin: 0 auto 20px auto;
            width: fit-content;
            border: 1px solid rgba(254, 44, 85, 0.1);
        }

        .button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 18px 32px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            max-width: 300px;
            margin: 20px auto;
            display: block;
            transition: all 0.2s;
            box-shadow: 0 4px 12px rgba(254, 44, 85, 0.2);
        }

        .button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(254, 44, 85, 0.3);
        }

        .question-container {
            text-align: center;
        }

        .question {
            margin: 20px 0;
        }

        .question h3 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .question p {
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 600px) {
            .container {
                padding: 16px;
            }

            .steps-list li {
                font-size: 14px;
            }
        }

        .navbar {
            background: white;
            border-bottom: 1px solid var(--border);
            padding: 15px 0;
        }

        .navbar-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-links {
            display: flex;
            gap: 20px;
        }

        .nav-links a {
            color: var(--text);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
        }

        .hero-text {
            text-align: center;
            margin: 20px 0 30px 0;
        }

        .hero-text h1 {
            font-size: 32px;
            color: var(--text);
            margin-bottom: 12px;
        }

        .hero-text p {
            font-size: 16px;
            color: var(--text-secondary);
        }

        /* Comments Section Styles */
        .comments {
            margin-top: 30px;
            background: white;
            border-radius: 12px;
            padding: 20px;
        }

        .others-say {
            font-size: 16px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .comment-count {
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: normal;
        }

        .comment {
            display: flex;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .comment:last-child {
            border-bottom: none;
        }

        .cmmimg {
            flex-shrink: 0;
        }

        .cmmimg img {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            object-fit: cover;
        }

        .comment-content {
            flex: 1;
            min-width: 0; /* Prevents flex item from overflowing */
        }

        .comment-user-name {
            font-weight: 600;
            color: var(--text);
            text-decoration: none;
        }

        .comment-text {
            margin: 8px 0;
            font-size: 14px;
            line-height: 1.4;
        }

        .fb-img {
            max-width: 210px;
            width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 8px 0;
        }

        .comment-meta {
            display: flex;
            align-items: center;
            gap: 4px;
            color: var(--text-secondary);
            font-size: 13px;
        }

        .comment-meta button {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0;
            font-size: 13px;
        }

        .mcomments {
            max-height: 600px;
            overflow-y: auto;
            padding-right: 10px;
            position: relative;
            mask-image: linear-gradient(to bottom, black 85%, transparent 100%);
            -webkit-mask-image: linear-gradient(to bottom, black 85%, transparent 100%);
        }

        .view-more-comments {
            text-align: center;
            padding: 20px 0 10px 0;
            background: white;
            position: relative;
            margin-top: -40px;
        }

        .fb-view-more {
            color: #385898;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
        }

        .fb-view-more:hover {
            text-decoration: underline;
        }

        .page-title {
            text-align: center;
            padding: 20px 20px 0 20px;
        }

        .page-title h1 {
            font-size: 32px;
            color: var(--text);
            margin-bottom: 12px;
        }

        .page-title p {
            font-size: 16px;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Update comment section styles */
        .comment-actions {
            display: flex;
            gap: 16px;
            margin-top: 8px;
        }

        .comment-actions button {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 13px;
            cursor: pointer;
            padding: 0;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .comment-actions button.liked {
            color: var(--primary);
        }

        .comment-actions .like-count {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .comment-actions .like-count.liked {
            color: var(--primary);
        }

        /* Update sorting box style */
        .sorting-box {
            position: sticky;
            top: 0;
            background: white;
            z-index: 1;
            padding: 12px 0;
            margin-bottom: 10px;
            border-bottom: 1px solid var(--border);
        }

        /* Hide load more button */
        .load-more {
            display: none;
        }

        /* Hide Facebook footer */
        .comments-footer {
            display: none;
        }

        /* Hide the add comment section and footer */
        .add-comment, .comments-footer, .load-more {
            display: none;
        }

        /* Add these Facebook-themed comment styles */
        .fb-comments {
            margin-top: 0;
        }

        .fb-comments-header {
            padding: 12px 16px;
            border-bottom: 1px solid #dddfe2;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .fb-comments-header h4 {
            color: #050505;
            font-size: 16px;
            font-weight: 600;
            margin: 0;
        }

        .fb-sort-button {
            display: flex;
            align-items: center;
            gap: 4px;
            background: #e4e6eb;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            color: #050505;
            cursor: pointer;
        }

        .fb-comment {
            padding: 12px 16px;
            display: flex;
            gap: 8px;
            border-bottom: 1px solid #dddfe2;
        }

        .fb-comment-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            overflow: hidden;
            flex-shrink: 0;
        }

        .fb-comment-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .fb-comment-content {
            flex: 1;
        }

        .fb-comment-bubble {
            background: #f0f2f5;
            border-radius: 18px;
            padding: 8px 12px;
            margin-bottom: 4px;
            display: inline-block;
            max-width: 100%;
        }

        .fb-comment-name {
            color: #050505;
            font-weight: 600;
            font-size: 13px;
            text-decoration: none;
            margin-bottom: 2px;
            display: block;
        }

        .fb-comment-text {
            color: #050505;
            font-size: 13px;
            line-height: 1.4;
            margin: 0;
        }

        .fb-comment-image {
            margin-top: 8px;
            max-width: 200px;
            border-radius: 8px;
        }

        .fb-comment-actions {
            margin-top: 4px;
            display: flex;
            gap: 12px;
            padding-left: 12px;
        }

        .fb-comment-action {
            color: #65676b;
            font-size: 12px;
            font-weight: 600;
            text-decoration: none;
        }

        .fb-comment-action:hover {
            text-decoration: underline;
        }

        .fb-comment-time {
            color: #65676b;
            font-size: 12px;
        }

        /* Footer Styles */
        .footer {
            padding: 40px 20px;
            background: white;
            border-top: 1px solid var(--border);
            margin-top: 40px;
            text-align: center;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 24px;
            flex-wrap: wrap; /* Better mobile handling */
        }

        .footer-links span {
            color: #2563eb;
            font-size: 14px;
            cursor: pointer;
        }

        .tradenm {
            color: #6b7280;
            font-size: 12px;
            line-height: 1.6;
            margin-bottom: 16px;
            padding: 0 10px; /* Better mobile padding */
        }

        .disclaimer-box {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid var(--border);
            color: #6b7280;
            font-size: 12px;
        }

        @media (max-width: 600px) {
            .footer {
                padding: 30px 15px;
            }
            
            .footer-links {
                gap: 15px;
            }
        }

        /* Add these styles for the activity feed */
        #activityList {
            background: #f8f8f8;
            padding: 10px;
            border-radius: 12px;
        }

        #activityFeed h3 {
            text-align: center;
            color: var(--text);
            margin-bottom: 20px;
            font-size: 18px;
        }
    </style>
</head>

<body>
    <div class="timer-top">
        YOUR SPOT IS RESERVED FOR <span class="timer">15:00</span>
    </div>

    <div class="page-title">
        <h1>Exclusive Reward Program</h1>
        <p>Join thousands of happy members who have already claimed their rewards</p>
    </div>

    <main class="container">
        <div id="initialContent" class="main-content">
            <div class="live-counter" id="liveCounter">
                56 people are completing offers now
            </div>
            
            <div class="offer-image">
                <img src="{{offer_image}}" alt="Reward">
            </div>

            <h2 style="text-align: center; margin-bottom: 20px;">Amazing news! You've been granted exclusive access! 🎉</h2>

            <div class="progress-container">
                <div class="progress-bar" id="progressBar" style="width: 0%"></div>
            </div>

            <ol class="steps-list" style="font-size: 14px; margin: 15px 0;">
                <li>Choose your <strong>location</strong> below 📍</li>
                <li>Enter your email & <strong>basic info</strong> ✍️</li>
                <li>Complete <strong>3-5 deals (IMPORTANT)</strong> 🚨</li>
                <li><strong>Claim your reward!</strong> 💸</li>
            </ol>

            <div id="questionContainer">
                <button class="button" onclick="startSurvey()">GET STARTED</button>
            </div>
        </div>

        <!-- Loading Check -->
        <div id="loadingCheck" class="main-content hidden">
            <div style="text-align: center;">
                <h3 style="margin-bottom: 20px; color: var(--primary);">Checking Availability...</h3>
                <div class="progress-container" style="margin: 20px auto; max-width: 200px;">
                    <div class="progress-bar" id="loadingProgress" style="width: 0%"></div>
                </div>
                <div class="loading-items" style="margin: 20px 0;">
                    <div class="loading-item" style="margin: 15px 0; padding: 12px; background: var(--container-bg); border-radius: 8px; border: 1px solid var(--border);">
                        <span id="loadingText1">Connecting to secure server...</span>
                        <span class="checkmark hidden" style="color: var(--success); margin-left: 10px;">✓</span>
                    </div>
                    <div class="loading-item" style="margin: 15px 0; padding: 12px; background: var(--container-bg); border-radius: 8px; border: 1px solid var(--border);">
                        <span id="loadingText2">Verifying location data...</span>
                        <span class="checkmark hidden" style="color: var(--success); margin-left: 10px;">✓</span>
                    </div>
                    <div class="loading-item" style="margin: 15px 0; padding: 12px; background: var(--container-bg); border-radius: 8px; border: 1px solid var(--border);">
                        <span id="loadingText3">Checking reward availability in your area...</span>
                        <span class="checkmark hidden" style="color: var(--success); margin-left: 10px;">✓</span>
                    </div>
                    <div class="loading-item" style="margin: 15px 0; padding: 12px; background: var(--container-bg); border-radius: 8px; border: 1px solid var(--border);">
                        <span id="loadingText4">Confirming eligibility criteria...</span>
                        <span class="checkmark hidden" style="color: var(--success); margin-left: 10px;">✓</span>
                    </div>
                    <div class="loading-item" style="margin: 15px 0; padding: 12px; background: var(--container-bg); border-radius: 8px; border: 1px solid var(--border);">
                        <span id="loadingText5">Reserving your spot...</span>
                        <span class="checkmark hidden" style="color: var(--success); margin-left: 10px;">✓</span>
                    </div>
                </div>
                <p id="loadingStatus" style="color: var(--text-secondary); font-size: 14px; margin-top: 20px;">
                    Please wait while we process your request...
                </p>
            </div>
        </div>

        <!-- Final Section -->
        <div id="finalSection" class="main-content hidden">
            <div class="offer-image">
                <img src="{{offer_image}}" alt="Reward">
            </div>
            
            <h2 style="text-align: center; margin-bottom: 20px;">Congratulations!</h2>
            <p style="text-align: center; color: var(--text-secondary);">
                Great news! You're eligible for this exclusive reward!
            </p>
            <button class="button" onclick="handleClick()">
                Claim Now
            </button>
        </div>

        <!-- Recent Activity Feed -->
        <div id="activityFeed" class="main-content">
            <h3 style="margin-bottom: 20px;">Recent Activity</h3>
            <div id="activityList" style="font-size: 14px; margin-bottom: 30px;"></div>

            <div class="fb-comments">
                <div class="fb-comments-header">
                    <h4>Comments</h4>
                    <button class="fb-sort-button">
                        Most Relevant ▾
                    </button>
                </div>
                <div class="mcomments">
                    <!-- Willa Everly Comment -->
                    <div class="fb-comment">
                        <div class="fb-comment-avatar">
                            <img src="https://fashionoffer.club/shein-offer/images/1.jpg" alt="Willa Everly">
                        </div>
                        <div class="fb-comment-content">
                            <div class="fb-comment-bubble">
                                <span class="fb-comment-name">Willa Everly</span>
                                <p class="fb-comment-text">This is the best thing that ever happened to me, I lived in <span class="location">United States</span> since birth.. And now to receive this amazing gift card! This program is amazing!!</p>
                            </div>
                            <div class="fb-comment-actions">
                                <span class="fb-comment-action">Like</span>
                                <span class="fb-comment-action">Reply</span>
                                <span class="fb-comment-time">1w</span>
                            </div>
                        </div>
                    </div>

                    <!-- Laura Jade Comment -->
                    <div class="fb-comment">
                        <div class="fb-comment-avatar">
                            <img src="https://fashionoffer.club/shein-offer/images/3.jpg" alt="Laura Fairgrieve">
                        </div>
                        <div class="fb-comment-content">
                            <div class="fb-comment-bubble">
                                <span class="fb-comment-name">Laura Jade Fairgrieve</span>
                                <p class="fb-comment-text">A friend of mine told me that this is part of their program to expand in <span class="location">United States</span>. I am so happy that I applied. My wishlist is finally empty. This is the best thing that ever happened to me.</p>
                            </div>
                            <div class="fb-comment-actions">
                                <span class="fb-comment-action">Like</span>
                                <span class="fb-comment-action">Reply</span>
                                <span class="fb-comment-time">1w</span>
                            </div>
                        </div>
                    </div>

                    <!-- Josephine Comment -->
                    <div class="fb-comment">
                        <div class="fb-comment-avatar">
                            <img src="https://fashionoffer.club/shein-offer/images/5.jpg" alt="Josephine Peter Rita">
                        </div>
                        <div class="fb-comment-content">
                            <div class="fb-comment-bubble">
                                <span class="fb-comment-name">Josephine Peter Rita</span>
                                <p class="fb-comment-text">Was skeptical at first, but winning this Gift Card made me a believer. And I really used it! Please note that this is available only in <span class="location">United States</span></p>
                            </div>
                            <div class="fb-comment-actions">
                                <span class="fb-comment-action">Like</span>
                                <span class="fb-comment-action">Reply</span>
                                <span class="fb-comment-time">2w</span>
                            </div>
                        </div>
                    </div>

                    <!-- Zoe Comment -->
                    <div class="fb-comment">
                        <div class="fb-comment-avatar">
                            <img src="https://fashionoffer.club/shein-offer/images/11.jpg" alt="Zoe Bennetts">
                        </div>
                        <div class="fb-comment-content">
                            <div class="fb-comment-bubble">
                                <span class="fb-comment-name">Zoe Bennetts</span>
                                <p class="fb-comment-text">Being born in <span class="location">United States</span> is amazing. I managed to completely empty your wish list for free... this feeling is amazing.🎉</p>
                            </div>
                            <div class="fb-comment-actions">
                                <span class="fb-comment-action">Like</span>
                                <span class="fb-comment-action">Reply</span>
                                <span class="fb-comment-time">2w</span>
                            </div>
                        </div>
                    </div>

                    <!-- Jessica Comment -->
                    <div class="fb-comment">
                        <div class="fb-comment-avatar">
                            <img src="https://fashionoffer.club/shein-offer/images/15.jpg" alt="Jessica Mollard">
                        </div>
                        <div class="fb-comment-content">
                            <div class="fb-comment-bubble">
                                <span class="fb-comment-name">Jessica Mollard</span>
                                <p class="fb-comment-text">Just claimed my reward! The process was so easy. Amazing program 🙌</p>
                            </div>
                            <div class="fb-comment-actions">
                                <span class="fb-comment-action">Like</span>
                                <span class="fb-comment-action">Reply</span>
                                <span class="fb-comment-time">1h</span>
                            </div>
                        </div>
                    </div>

                    <!-- Beth Comment -->
                    <div class="fb-comment">
                        <div class="fb-comment-avatar">
                            <img src="https://fashionoffer.club/shein-offer/images/20.jpg" alt="Beth Spidy">
                        </div>
                        <div class="fb-comment-content">
                            <div class="fb-comment-bubble">
                                <span class="fb-comment-name">Beth Spidy</span>
                                <p class="fb-comment-text">I got so much from this reward program! Still have plenty left to spend 🎁</p>
                            </div>
                            <div class="fb-comment-actions">
                                <span class="fb-comment-action">Like</span>
                                <span class="fb-comment-action">Reply</span>
                                <span class="fb-comment-time">1h</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div class="footer">
        <div class="footer-links">
            <span>Terms and Conditions</span>
            <span>Privacy Policy</span>
        </div>
        <p class="tradenm">All brand names and trademarks mentioned on this site belong to their respective owners and are not connected to this promotion. This special offer concludes at the close of <span id="year">2025.</span></p>
        <p class="tradenm">This site is independent of the Facebook website and Facebook Inc.<br>Furthermore, this site is not supported by Facebook in any way. Facebook is a registered trademark of Facebook, Inc.</p>
        <div class="disclaimer-box">
            <p>© <span id="year">2024</span> UpLevelRewards. All rights reserved.</p>
        </div>
    </div>

    <script>
        // Questions Data
        const questions = [
            {
                title: "Where are you located?",
                description: "Select your country of residence",
                options: [
                    "🇺🇸 United States",
                    "🇨🇦 Canada"
                ]
            },
            {
                title: "How often do you shop online?",
                description: "This helps us personalize your experience",
                options: [
                    "Weekly",
                    "Monthly",
                    "Occasionally"
                ]
            },
            {
                title: "Which reward type do you prefer?",
                description: "Choose your preferred option",
                options: [
                    "Cash Reward",
                    "Gift Card"
                ]
            }
        ];

        let currentQuestionIndex = 0;

        // Timer Function
        function startTimer(duration, display) {
            let timer = duration;
            const interval = setInterval(function () {
                const minutes = parseInt(timer / 60, 10);
                const seconds = parseInt(timer % 60, 10);
                display.textContent = minutes + ":" + (seconds < 10 ? "0" : "") + seconds;
                if (--timer < 0) {
                    clearInterval(interval);
                    display.textContent = "EXPIRED";
                }
            }, 1000);
        }

        // Progress Bar
        function updateProgress(percent) {
            document.getElementById('progressBar').style.width = percent + '%';
        }

        // Show Question
        function showQuestion(index) {
            const question = questions[index];
            const questionContainer = document.getElementById('questionContainer');
            
            let html = `
                <div class="question">
                    <h3 style="font-size: 20px; margin-bottom: 10px;">${question.title}</h3>
                    <p style="font-size: 14px; margin-bottom: 20px;">${question.description}</p>
                    ${question.options.map(option => 
                        `<button class="button" onclick="handleAnswer()">${option}</button>`
                    ).join('')}
                </div>
            `;
            
            questionContainer.innerHTML = html;
            questionContainer.style.display = 'block';
        }

        // Start Survey
        function startSurvey() {
            // Keep only essential elements visible
            const initialContent = document.getElementById('initialContent');
            const elements = initialContent.children;
            
            for(let element of elements) {
                if (!element.classList.contains('offer-image') && 
                    !element.classList.contains('fb-comments') && 
                    !element.id !== 'questionContainer') {
                    element.style.display = 'none';
                }
            }

            // Show the first question
            showQuestion(0);
            updateProgress(25);
        }

        // Handle Answer
        function handleAnswer() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex === 1) {
                document.getElementById('initialContent').classList.add('hidden');
                document.getElementById('loadingCheck').classList.remove('hidden');
                
                // Keep the offer image visible in loading check using template variable
                const offerImage = document.querySelector('.offer-image').cloneNode(true);
                document.getElementById('loadingCheck').insertBefore(
                    offerImage, 
                    document.getElementById('loadingCheck').firstChild
                );
                
                const loadingProgress = document.getElementById('loadingProgress');
                const loadingStatus = document.getElementById('loadingStatus');
                const checkmarks = document.querySelectorAll('.checkmark');
                const loadingTexts = [
                    "Establishing secure connection...",
                    "Processing location data...",
                    "Checking available rewards...",
                    "Verifying eligibility...",
                    "Almost done..."
                ];
                
                let currentCheck = 0;
                
                function updateLoadingStatus(index) {
                    loadingStatus.textContent = loadingTexts[index];
                    loadingProgress.style.width = `${(index + 1) * 20}%`;
                }

                function showNextCheck() {
                    if (currentCheck < checkmarks.length) {
                        updateLoadingStatus(currentCheck);
                        setTimeout(() => {
                            checkmarks[currentCheck].classList.remove('hidden');
                            currentCheck++;
                            showNextCheck();
                        }, 1200); // Slightly longer delay between checks
                    } else {
                        setTimeout(() => {
                            loadingStatus.textContent = "Verification complete! ✨";
                            setTimeout(() => {
                                document.getElementById('loadingCheck').classList.add('hidden');
                                document.getElementById('finalSection').classList.remove('hidden');
                            }, 1000);
                        }, 500);
                    }
                }

                showNextCheck();
                updateProgress(100);
            }
        }

        // Live Counter
        function updateLiveCounter() {
            let counter = 56;
            setInterval(() => {
                counter += Math.floor(Math.random() * 3);
                if (counter > 127) counter = 127;
                document.getElementById('liveCounter').textContent = 
                    `${counter} people are completing offers now`;
            }, 5000);
        }

        // Add activity feed functionality
        function updateActivityFeed() {
            // These arrays simulate data that would come from an API
            const firstNames = [
                "James", "Emma", "Michael", "Sophia", "William", "Isabella", "Alexander", "Olivia", 
                "Daniel", "Ava", "David", "Mia", "Joseph", "Charlotte", "Matthew", "Amelia",
                "Andrew", "Harper", "Joshua", "Evelyn", "Christopher", "Abigail", "Ryan", "Emily",
                "Nathan", "Elizabeth", "Kevin", "Sofia", "Justin", "Victoria", "Brandon", "Grace",
                "Wei", "Yuki", "Jin", "Mei", "Raj", "Priya", "Arun", "Zara", "Omar", "Fatima",
                "Carlos", "Maria", "Luis", "Ana", "Miguel", "Elena", "Juan", "Isabella"
            ];

            const lastNames = [
                "Smith", "Johnson", "Williams", "Brown", "Jones", "Garcia", "Miller", "Davis",
                "Rodriguez", "Martinez", "Hernandez", "Lopez", "Gonzalez", "Wilson", "Anderson",
                "Thomas", "Taylor", "Moore", "Jackson", "Martin", "Lee", "Perez", "Thompson",
                "White", "Harris", "Sanchez", "Clark", "Ramirez", "Lewis", "Robinson", "Walker",
                "Chen", "Wong", "Kim", "Park", "Singh", "Patel", "Kumar", "Shah", "Ali", "Khan",
                "Ahmed", "Hassan", "Santos", "Cruz", "Reyes", "Morales", "Torres", "Nguyen"
            ];

            const usLocations = [
                "New York, US", "Los Angeles, US", "Chicago, US", "Houston, US", "Phoenix, US",
                "Philadelphia, US", "San Antonio, US", "San Diego, US", "Dallas, US", "San Jose, US",
                "Austin, US", "Jacksonville, US", "Fort Worth, US", "Columbus, US", "San Francisco, US",
                "Charlotte, US", "Indianapolis, US", "Seattle, US", "Denver, US", "Boston, US"
            ];

            const caLocations = [
                "Toronto, CA", "Montreal, CA", "Vancouver, CA", "Calgary, CA", "Edmonton, CA",
                "Ottawa, CA", "Winnipeg, CA", "Quebec City, CA", "Hamilton, CA", "Halifax, CA",
                "Victoria, CA", "London, CA", "Saskatoon, CA", "Regina, CA", "St. John's, CA"
            ];

            const actions = [
                { text: "verified details ✅", color: "#00ba7c" },
                { text: "claimed their reward 🎁", color: "#fe2c55" },
                { text: "completing activities ⭐", color: "#2563eb" }
            ];

            // Keep track of used names to avoid repetition
            const usedNames = new Set();

            const activityList = document.getElementById('activityList');
            
            function generateUniqueName() {
                let fullName;
                do {
                    const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
                    const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
                    fullName = `${firstName} ${lastName}`;
                } while (usedNames.has(fullName));
                
                usedNames.add(fullName);
                // Reset used names if we're running out of combinations
                if (usedNames.size > 40) {
                    usedNames.clear();
                }
                return fullName;
            }

            function addActivity() {
                const name = generateUniqueName();
                const location = Math.random() > 0.5 
                    ? usLocations[Math.floor(Math.random() * usLocations.length)]
                    : caLocations[Math.floor(Math.random() * caLocations.length)];
                const action = actions[Math.floor(Math.random() * actions.length)];
                const timeAgo = Math.floor(Math.random() * 10) + 1;
                
                const activityElement = document.createElement('div');
                activityElement.style.padding = '12px';
                activityElement.style.borderBottom = '1px solid var(--border)';
                activityElement.style.background = '#ffffff';
                activityElement.style.borderRadius = '8px';
                activityElement.style.marginBottom = '8px';
                activityElement.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span>
                            <strong>${name}</strong> 
                            <span style="color: var(--text-secondary)">(${location})</span> 
                            <span style="color: ${action.color}; font-weight: 500;">${action.text}</span>
                        </span>
                        <span style="color: var(--text-secondary); font-size: 12px;">${timeAgo}m ago</span>
                    </div>
                `;
                
                activityList.insertBefore(activityElement, activityList.firstChild);
                
                // Keep only 3 activities
                if (activityList.children.length > 3) {
                    activityList.removeChild(activityList.lastChild);
                }
            }

            // Add initial activities
            for (let i = 0; i < 3; i++) {
                addActivity();
            }

            // Update activities periodically
            setInterval(addActivity, 5000);
        }

        // Add comment functionality
        const comments = [
            {
                id: 1,
                name: "Sarah Williams",
                text: "Just received my reward! This is amazing, thank you so much! 🎉",
                likes: 24,
                timeAgo: "2h",
                image: "images/1.jpg"
            },
            // Add more comments here...
        ];

        function renderComments() {
            const commentsList = document.getElementById('commentsList');
            commentsList.innerHTML = comments.map(comment => `
                <div class="comment" data-id="${comment.id}">
                    <img class="cmmimg" src="${comment.image}" width="40" height="40" alt="${comment.name}">
                    <div class="comment-content">
                        <div class="comment-user-name">${comment.name}</div>
                        <div class="comment-text">${comment.text}</div>
                        <div class="comment-actions">
                            <button onclick="toggleLike(${comment.id})" class="${comment.liked ? 'liked' : ''}">
                                Like
                            </button>
                            <span class="like-count ${comment.liked ? 'liked' : ''}">${comment.likes}</span>
                            <button>Reply</button>
                            <span class="comment-time">${comment.timeAgo} ago</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function toggleLike(commentId) {
            const comment = comments.find(c => c.id === commentId);
            if (comment) {
                if (comment.liked) {
                    comment.likes--;
                    comment.liked = false;
                } else {
                    comment.likes++;
                    comment.liked = true;
                }
                renderComments();
            }
        }

        // Initialize
        window.onload = function() {
            const fifteenMinutes = 60 * 15;
            startTimer(fifteenMinutes, document.querySelector('.timer'));
            updateProgress(0);
            updateLiveCounter();
            updateActivityFeed();
            renderComments();
        };

        document.addEventListener('DOMContentLoaded', function() {
            var yearSpan = document.getElementById('year');
            if (yearSpan) {
                var currentYear = new Date().getFullYear();
                yearSpan.textContent = currentYear + ".";
            }
        });

        // CTA button click handler
        function handleClick() {
            const a = document.createElement('a');
            a.href = '{{target_url}}';
            a.rel = 'noreferrer';
            a.target = '_blank';
            a.click();
        }

        // Make all cards clickable
        document.querySelectorAll('.card, .rewards-img').forEach(element => {
            element.style.cursor = 'pointer';
            element.addEventListener('click', handleClick);
        });
    </script>
</body>
</html>